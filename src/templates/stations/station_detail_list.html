{% extends 'stations/station_base.html' %}
{% load leaflet_tags %}
{% load static %}

{% block map_leaflet %}
{{ station_url|json_script:"station_url" }}
{{ station_data|json_script:"station_data" }}
{{ grid_data|json_script:"grid_data" }}
<div id='station_map_id'>
  {% leaflet_map "bigmap" callback="map_station_edit" %}
</div>
{% endblock map_leaflet %}

{% block column %}
<input type="hidden" id='id_slug' name="station_slug" value={{ object.slug }}>
<!-- input type="hidden" id='id_station_local' name="station_name" value={{ object.name }} -->
<div class="row">
  {% if stations %}
  <div class="list-group list-group-flush overflow-auto" style="max-height: 400px; width: 95%" id="list-tab"
    role="tablist">
    {% for station in stations %}
    <a class="list-group-item list-group-item-action" data-bs-toggle="list" id="list-{{ station.slug }}-list"
      data-bs-toggle="list" href="#list-{{ station.slug }}" role="tab"
      aria-controls="list-{{ station.slug }}">{{ station.name }}</a>
    {% endfor %}
  </div>
  <hr>
  {% else %}
  <h4> No Station yet.</h4>
  {% endif %}
</div>
<br>
<div class="row">
  {% if object_list %}
  <div class="tab-content" id="nav-tabContent" style="width: 95%">
    {% for station in object_list %}
    <div class="tab-pane fade" id="list-{{ station.slug }}" role="tabpanel"
      aria-labelledby="list-{{ station.slug }}-list">
      {% include "stations/detail.html" %}
    </div>
    {% endfor %}
  </div>
  {% endif %}

</div>
{% endblock column %}
